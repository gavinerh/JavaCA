<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/general.html :: headerfiles"/>

<body>
	<header th:insert="fragments/general.html :: header"> </header>
	<div th:replace="fragments/general.html :: menu"></div>

	<h1>Leave List: To Approve</h1>
	<!-- Textbox to enter user ID which takes him to history view -->
	<a href="empl-leavehistory.html" th:href="@{/leave/hist}">Employee Leave History</a>

	<h2 th:if="${not #lists.isEmpty(leaves)}">Leave List: To Approve</h2>
	<table th:if="${not #lists.isEmpty(leaves)}" >
		<tr >
			<th>Leave Id</th>
			<th>Employee's Name</th>>
			<th>Leave Type</th>
		<!--	<th>Leave Balance</th> -->
			<th>Leave Application Date </th>
			<th>Start Date </th>
			<th>End Date </th>
			<th>Reason </th>
			<th>Work Dissemination(if any) </th>

			<th>Status </th>
			<th>Approve </th>
			<th>Rejec t</th>
		</tr>
		<tr th:each="leave:${leaves}" >
			<td th:text=${leave.leaveId}>Id</td>
			<td th:text="${leave.user.firstName}"> Name</td>
			<td th:text=${leave.type}>Leave Type</td>
		<!--	<td th:text=${leavebal.user.balance}>Leave Balance</td> -->
			<td th:text="${#temporals.format(leave.appliedDate, 'dd-MM-yyyy')}">Applied Date</td>
			<td th:text="${#temporals.format(leave.startDate, 'dd-MM-yyyy')}">Start Date</td>
			<td th:text="${#temporals.format(leave.endDate, 'dd-MM-yyyy')}">End Date</td>
			<td th:text=${leave.reason}>Reason</td>
			<td th:text=${leave.workdissem}>Work Dissemination</td>

			<td th:text=${leave.status}>status</td>
			<td ><a href="approveLeave.html"
				th:href="@{/leave/approve/}+${leave.leaveId}" 
				th:utext="#{leave.approve}" >Approved<a></td>
				
				<!--th:if="${leave.status == T(sg.iss.laps.model.LeaveStatus).APPROVED}"--> 
			
			<td ><a href="rejectLeave.html"
				th:href="@{/leave/reject/}+${leave.leaveId}" 
				th:utext="#{leave.reject}">Rejected</a></td>	
				
			<!-- th:if="${leave.status == T(sg.iss.laps.model.LeaveStatus).REJECTED}" --> 
		</tr>
	</table>
    <br/>
	<div th:replace="fragments/general.html :: footer"></div>
	
</body>
</html>